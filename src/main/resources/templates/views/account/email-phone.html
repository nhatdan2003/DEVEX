<!DOCTYPE html>
<html lang="en">
<head>
<div th:replace="~{flagment/account/head :: headFragment}"></div>
<title>Thông tin xác thực</title>
<!-- My CSS -->
<link rel="stylesheet" href="/css/account.css" />
</head>

<body>
	<div class="login-top">
		<a href="/home"><img src="" alt=""
			class="img-fluid"></a>
	</div>

	<div class="d-flex justify-content-center align-items-center"
		style="width: 100vw;">
		<section class="login-box">
			<h2 class="text-dark font-weight-bold">
				<span th:if="${type == null or type == ''}">Thông Tin Xác Thực</span> <span th:if="${type == 'email' or type == 'phone'}">Nhập Thông Tin Mới</span>
			</h2>
			<form class="mt-4" method="post">
				<div class="mb-3 bg-white rounded px-2">
					<input type="text" id="inputEmail-Phone"
						onchange="validateInput(this)"
						th:placeholder="${type == null or type == '' ? 'Email hoặc số điện thoại' : (type == 'email' ? 'Email' : 'Số điện thoại')}"
						required class="form-control border-0 p-0" name="email-phone">
				</div>
				<mark id="message-error" th:text="${message}"></mark>
				<button type="submit" class="btn btn-danger mt-3"
					style="width: 100%;">Gửi OTP</button>

				<div class="mt-3 ">
					<p class="m-0  text-dark">
						<span style="color: rgba(30, 32, 34, 0.75);">Bạn đã có tài khoản? </span> <a href="/signin">Đăng nhập ngay</a>
					</p>
					<p class="m-0 small-text text-dark  mt-2">
						<span style="color: rgba(30, 32, 34, 0.75);"><a
							style="color: rgba(30, 32, 34);" href="/home">Nhấn vào đây! </a>Quay
							về trang chủ</span>
					</p>
				</div>

			</form>

		</section>
	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
		crossorigin="anonymous"></script>
	<script>
		function validateInput(inputField) {
			var input = document.getElementById("inputEmail-Phone").value;
			var message = document.getElementById("message-error");

			if (isEmail(input)) {
				message.textContent = "";
				// Xử lý khi người dùng nhập địa chỉ email
			} else if (isPhoneNumber(input)) {
				message.textContent = "";
				// Xử lý khi người dùng nhập số điện thoại
			} else {
				message.textContent = "Email hoặc số điện thoại không hợp lệ.";
				// Xử lý khi người dùng nhập không đúng định dạng
			}
		}

		function isEmail(input) {
			// Kiểm tra định dạng email
			// Sử dụng biểu thức chính quy (regular expression) hoặc các phương pháp khác để kiểm tra
			var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			return emailRegex.test(input);
		}

		function isPhoneNumber(input) {
			// Kiểm tra định dạng số điện thoại
			// Sử dụng biểu thức chính quy (regular expression) hoặc các phương pháp khác để kiểm tra
			// Ví dụ kiểm tra số điện thoại từ 10 đến 13 chữ số
			var phoneRegex = /^\d{10,13}$/;
			return phoneRegex.test(input);
		}
	</script>
</body>
</html>