<!DOCTYPE html>
<html lang="en">
<head>
<div th:replace="~{flagment/account/head :: headFragment}"></div>
<title>Xác thực</title>
<!-- My CSS -->
<link rel="stylesheet" href="/css/account.css" />
</head>

<body>
	<div class="login-top">
		<a href="/home"><img src=""
			alt="" class="img-fluid"></a>
	</div>

	<div class="d-flex justify-content-center align-items-center"
		style="width: 100vw;">
		<section class="login-box">
			<h2 class="text-dark font-weight-bold">Xác Thực OTP</h2>
			<form class="m-0 mt-4" method="post">
				<div class="container w-100 text-center rounded-lg shadow-lg p-3">
					<div class="alert alert-danger" role="alert" style="display: none"
						id='alert_box'>All fields are required!</div>
					<div id="OTP_Div">
						<input style="background-color: rgba(82, 97, 107, 0.2);" name="o1"
							autofocus class="form-control otp-input"
							oninput="handleInput(this, 'o2')" maxlength="1" 
							type="number" id="o1" onkeydown="handleInput(this, 'o1')" /> <input
							name="o2" style="background-color: rgba(82, 97, 107, 0.2);"
							class="form-control otp-input"  maxlength="1"
							type="number" id="o2" oninput="handleInput(this, 'o3')"
							onkeydown="handleInput(this, 'o1')" /> <input name="o3"
							style="background-color: rgba(82, 97, 107, 0.2);"
							class="form-control otp-input"  maxlength="1"
							type="number" id="o3" oninput="handleInput(this, 'o4')"
							onkeydown="handleInput(this, 'o2')" /> <input name="o4"
							style="background-color: rgba(82, 97, 107, 0.2);"
							class="form-control otp-input"  maxlength="1"
							type="number" id="o4" oninput="handleInput(this, 'o5')"
							onkeydown="handleInput(this, 'o3')" /> <input name="o5"
							style="background-color: rgba(82, 97, 107, 0.2);"
							class="form-control otp-input"  maxlength="1"
							type="number" id="o5" oninput="handleInput(this, 'o6')"
							 onkeydown="handleInput(this, 'o4')" />
							<input name="o6"
							style="background-color: rgba(82, 97, 107, 0.2);"
							class="form-control otp-input"  maxlength="1"
							type="number" id="o6" onkeydown="handleInput(this, 'o5')" />
					</div>

				</div>
				<mark th:text="${message}"></mark>
				<button type="submit" class="btn btn-danger mt-3" name="submit_button"
					value="Submit" style="width: 100%;">Xác nhận</button>

				<div class="mt-3 ">
					<!-- <img width="20px" src="./images/fb.png" alt=""> -->
					<div class="m-0 small-text text-dark  mb-3">
						<span style="color: rgba(30, 32, 34, 0.75);">Chưa nhận
							được mã thì bấm vào</span>
						<button class="send-again btn btn-secondary small-text" formmethod="post" formaction="/signup">
							Gửi lại mã
						</button>
					</div>
					<p class="m-0  text-dark">
						<span style="color: rgba(30, 32, 34, 0.75);"><a
							href="/signin">Trở về</a> Trang đăng nhập</span>
					</p>
				</div>
			</form>
		</section>
	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
		crossorigin="anonymous"></script>

	<script>
		function handleInput(currentInput, nextInputId) {
			var maxLength = parseInt(currentInput.getAttribute('maxlength'));
			var currentLength = currentInput.value.length;

			if (event.key === 'Backspace') {
				if (currentLength === 0) {
					var previousInputId = currentInput.previousElementSibling ? currentInput.previousElementSibling.id
							: currentInput.id;
					document.getElementById(previousInputId).focus();
				}
			} else {
				if (currentLength === maxLength) {
					document.getElementById(nextInputId).focus();
				}
			}
		}
	</script>

</body>
</html>